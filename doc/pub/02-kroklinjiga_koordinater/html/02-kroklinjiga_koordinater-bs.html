<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="FFM234, Klassisk fysik och vektorfält - Föreläsningsanteckningar">

<title>FFM234, Klassisk fysik och vektorfält - Föreläsningsanteckningar</title>

<!-- Bootstrap style: bootstrap -->
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">

/* Add scrollbar to dropdown menus in bootstrap navigation bar */
.dropdown-menu {
   height: auto;
   max-height: 400px;
   overflow-x: hidden;
}

/* Adds an invisible element before each target to offset for the navigation
   bar */
.anchor::before {
  content:"";
  display:block;
  height:50px;      /* fixed header height for style bootstrap */
  margin:-50px 0 0; /* negative fixed header height */
}
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [('2. Kroklinjiga koordinater', 1, None, '___sec0'),
              ('Koordinatyta', 3, None, '___sec1'),
              ('Koordinatkurva', 3, None, '___sec2'),
              ('Enhetsvektorer', 2, None, '___sec3'),
              ('Alternativ definition', 3, None, '___sec4'),
              ('Vektoroperatorer i kroklinjiga koordinater',
               2,
               None,
               '___sec5'),
              ('Gradient', 3, None, '___sec6'),
              ('Gradient i cylindriska koordinater:', 3, None, '___sec7'),
              ('Lösning', 3, None, '___sec8'),
              ('Lösning', 3, None, '___sec9')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "AMS"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript" async
 src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- newcommands_keep.tex -->
$$
\newcommand{\vnabla}{\vec{\nabla}}
$$




    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="02-kroklinjiga_koordinater-bs.html">FFM234, Klassisk fysik och vektorfält - Föreläsningsanteckningar</a>
  </div>

  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="#___sec0" style="font-size: 80%;"><b>2. Kroklinjiga koordinater</b></a></li>
     <!-- navigation toc: --> <li><a href="#___sec1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Koordinatyta</a></li>
     <!-- navigation toc: --> <li><a href="#___sec2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Koordinatkurva</a></li>
     <!-- navigation toc: --> <li><a href="#___sec3" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Enhetsvektorer</a></li>
     <!-- navigation toc: --> <li><a href="#___sec4" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alternativ definition</a></li>
     <!-- navigation toc: --> <li><a href="#___sec5" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Vektoroperatorer i kroklinjiga koordinater</a></li>
     <!-- navigation toc: --> <li><a href="#___sec6" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gradient</a></li>
     <!-- navigation toc: --> <li><a href="#___sec7" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gradient i cylindriska koordinater:</a></li>
     <!-- navigation toc: --> <li><a href="#___sec8" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lösning</a></li>
     <!-- navigation toc: --> <li><a href="#___sec9" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lösning</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<!-- ------------------- main content ---------------------- -->



<div class="jumbotron">
<center><h1>FFM234, Klassisk fysik och vektorf&#228;lt - F&#246;rel&#228;sningsanteckningar</h1></center>  <!-- document title -->

<p>
<!-- author(s): <a href="http://fy.chalmers.se/subatom/tsp/" target="_self">Christian Forss&#233;n</a>, Institutionen f&#246;r fysik, Chalmers, G&#246;teborg, Sverige -->

<center>
<b><a href="http://fy.chalmers.se/subatom/tsp/" target="_self">Christian Forss&#233;n</a>, Institutionen f&#246;r fysik, Chalmers, G&#246;teborg, Sverige</b> 
</center>

<p>
<!-- institution(s) -->

<br>
<p>
<center><h4>Sep 3, 2019</h4></center> <!-- date -->
<br>
<p>
</div> <!-- end jumbotron -->

<h1 id="___sec0" class="anchor">2. Kroklinjiga koordinater </h1>

<p>
Allm&#228;nt beh&#246;ver vi tre parametrar \( u_1, u_2, u_3 \) f&#246;r att beskriva en godtycklig punkt i rummet. J&#228;mf&#246;r med <em>generaliserade koordinater</em> i analytisk mekanik. Vi kan d&#229; skriva ortsvektorn som \( \vec{r}(u_1, u_2, u_3) \).

<h3 id="___sec1" class="anchor">Koordinatyta </h3>

f&#246;r koordinat \( i \): alla l&#246;sningar till \( u_i = \mathrm{konstant} \).

<h3 id="___sec2" class="anchor">Koordinatkurva </h3>

den kurva som f&#229;s om en koordinat till&#229;ts variera och de andra h&#229;lls konstanta.

<p>
Om vi d&#229; h&#229;ller en av parametrarna, s&#228;g \( u_1 \), fix och l&#229;ter \( u_2 \) och \( u_3 \) variera, s&#229; f&#229;r vi en tv&#229;-dimensionell yta, vilken vi kallar \( u_1 \)-ytan. P&#229; samma s&#228;tt kan vi d&#229; definiera ytor f&#246;r de andra koordinaterna. Tv&#229; koordinatytor, till exempel de f&#246;r koordinaterna \( u_2 \) och \( u_3 \), sk&#228;r varandra l&#228;ngs en en-dimensionell kurva.  L&#228;ngs denna kurva kommer d&#229; bara koordinaten \( u_1 \) att variera, s&#229; denna kurva &#228;r en koordinatkurva f&#246;r \( u_1 \).

<p>
<div class="panel panel-primary">
  <div class="panel-heading">
  <h3 class="panel-title">Exempel: cylindriska koordinater</h3>
  </div>
<div class="panel-body">
<p> <!-- subsequent paragraphs come in larger fonts, so start with a paragraph -->
I de cylindriska koordinaterna \( \rho, \phi, z \) kan vi skriva ortsvektorn som \( \vec{r} = \rho\cos \phi \hat{x} + \rho\sin \phi \hat{y} + z \hat{z} \).

<p>
<br /><br /><center><p><img src="fig/620px-Coord_system_CY.png" align="bottom" width=600></p></center><br /><br />

<p>
Koordinatytorna f&#246;r \( \rho, \phi, z \) &#228;r d&#229; en cylinder med \( z \)-axeln som symmetriaxel och med radien \( \rho \), ett plan som utg&#229;r fr&#229;n \( z \)-axeln och bildar en vinkel \( \phi \) med \( x \)-axeln, samt ett plan parallellt med \( xy \)-planet och med \( z \)-koordinaten \( z \).

<p>
<br /><br /><center><p><img src="fig/Cylindrical_coordinate_surfaces.png" align="bottom" width=600></p></center><br /><br />

<p>
Koordinatlinjerna f&#246;r \( \rho, \phi, z \) blir d&#229; en str&#229;le som utg&#229;r fr&#229;n \( z \)-axeln och bildar vinkeln \( \phi \) med \( x \)-axeln, en cirkel med radien \( \rho \) och en linje parallell med \( z \)-axeln.
</div>
</div>


<h2 id="___sec3" class="anchor">Enhetsvektorer </h2>
Om vi nu studerar en liten f&#246;rskjutning av ortsvektorn, \( \mbox{d}\vec{r} \), s&#229; kan vi i och med att ortsvektorn &#228;r en funktion av \( u_1, u_2, u_3 \) skriva denna som 
$$
\begin{equation}
  \mbox{d}\vec{r} = \frac{\partial \vec{r}}{\partial u_1} \mbox{d}u_1 +
\frac{\partial \vec{r}}{\partial u_2} \mbox{d}u_2 + 
\frac{\partial \vec{r}}{\partial u_3} \mbox{d}u_3.
\label{eq:forskjutningsvektor}
\end{equation}
$$

<p>
T&#228;nk nu p&#229; att den partiella derivatan \( \partial \vec{r}/\partial u_1 \)
&#228;r definierad som derivatan d&#229; vi h&#229;ller \( u_2 \) och \( u_3 \) fixa.
D&#228;rf&#246;r m&#229;ste \( \partial \vec{r}/\partial u_1 \) vara en tangentvektor
till koordinatkurvan f&#246;r \( u_1 \).  Vi kan d&#229; definiera en enhetsvektor 
f&#246;r \( u_1 \) som
$$
\begin{equation}
  \hat{e}_1 = \frac{1}{h_1} \frac{\partial \vec{r}}{\partial u_1},
\label{_auto1}
\end{equation}
$$

d&#228;r 
$$
\begin{equation}
  h_1 = \left|\frac{\partial \vec{r}}{\partial u_1}\right|
\label{_auto2}
\end{equation}
$$

kallas f&#246;r skalfaktorn.  P&#229; samma s&#228;tt kan vi best&#228;mma skalfaktorer och enhetsvektorer till \( u_2 \) och \( u_3 \). F&#246;rskjutningsvektorn \( \mbox{d}\vec{r} \) kan vi nu skriva som
$$
\begin{equation}
  \mbox{d}\vec{r} = h_1\hat{e}_1 \mbox{d}u_1 + h_2\hat{e}_2\mbox{d}u_2 +
h_3\hat{e}_3\mbox{d}u_3.
\label{eq:forskjutningsvektor_skalfaktor}
\end{equation}
$$

<h3 id="___sec4" class="anchor">Alternativ definition </h3>

Ett alternativ till att anv&#228;nda de normerade tangentvektorerna som enhetsvektorer &#228;r att anv&#228;nda normalvektorerna till koordinatytorna. Betrakta t.ex.
$$
\begin{equation}
u_1 = u_1(x,y,z) = \mathrm{konstant}.
\label{_auto3}
\end{equation}
$$

Detta motsvarar en niv&#229;yta till ett skal&#228;rf&#228;lt. Normalvektorn ges allts&#229; av \( \vnabla u_1 \).
Det g&#228;ller alltid att 
$$
\begin{equation}
\vnabla u_i \cdot \frac{\partial \vec{r}}{\partial u_j} = \delta_{ij}.
\label{_auto4}
\end{equation}
$$

N&#228;r vi inskr&#228;nker oss till ortogonala system g&#228;ller dessutom att \( \vnabla u_i \parallel \frac{\partial \vec{r}}{\partial u_i} \). Notera dock att dessa vektorer i allm&#228;nhet kan ha <em>olika</em> l&#228;ngd. Faktum &#228;r att f&#246;ljande samband g&#228;ller f&#246;r ortogonala system
$$
\begin{equation}
\hat{e}_i 
= \frac{1}{h_i} \frac{\partial \vec{r}}{\partial u_i}
= h_i \vnabla u_i.
\label{_auto5}
\end{equation}
$$

<p>
<div class="panel panel-primary">
  <div class="panel-heading">
  <h3 class="panel-title">Exempel: Enhetsvektorer f&#246;r cylindriska koordinater</h3>
  </div>
<div class="panel-body">
<p> <!-- subsequent paragraphs come in larger fonts, so start with a paragraph -->
I cylindriska koordinater &#228;r \( \vec{r} = (\rho\cos \phi, \rho\sin \phi, z) \).  Vi kan d&#229; ber&#228;kna
$$
\begin{align}
  \frac{\partial \vec{r}}{\partial \rho} &= \left(\cos \phi, \sin \phi, 0\right), 
\label{_auto6}\\ 
  \frac{\partial \vec{r}}{\partial \phi} &= \left(-\rho \sin\phi, \rho \cos \phi,
0\right), 
\label{_auto7}\\ 
  \frac{\partial \vec{r}}{\partial z} &= \left(0,0,1\right).
\label{_auto8}
\end{align}
$$

Skalfaktorerna blir d&#229;
$$
\begin{align}
  h_\rho &= \left(\cos^2\phi + \sin^2\phi\right)^{1/2} = 1, 
\label{_auto9}\\ 
  h_\phi &= \left(\rho^2 \cos^2\phi + \rho^2 \sin^2\phi\right)^{1/2} = \rho, 
\label{_auto10}\\ 
  h_z &= 1.
\label{_auto11}
\end{align}
$$

Enhetsvektorerna blir
$$
\begin{align}
  \hat{\rho} &= \left(\cos\phi, \sin\phi,0\right), 
\label{_auto12}\\ 
  \hat{\phi} &= \left(-\sin\phi, \cos\phi,0\right), 
\label{_auto13}\\ 
  \hat{z} &= \left(0,0,1\right).
\label{_auto14}
\end{align}
$$

F&#246;rskjutningsvektorn kan d&#229; skrivas som
$$
\begin{equation}
  \mbox{d}\vec{r} = \hat{\rho} \mbox{d}\rho + \rho \hat{\phi} \mbox{d} \phi + \hat{z} \mbox{d}z.
\label{_auto15}
\end{equation}
$$
</div>
</div>


<p>
I forts&#228;ttningen skall vi begr&#228;nsa oss till koordinatsystem med ortogonala enhetsvektorer, dvs
$$
\begin{equation}
\hat{e}_i \cdot \hat{e}_j = \delta_{ij} = \left\{
\begin{array}{ll}
1 & \,\mbox{om}\,\, i = j \\ 
0 & \,\mbox{annars}\\ 
\end{array}\right.
\label{_auto16}
\end{equation}
$$

d&#228;r vi passat p&#229; att introducera Kroneckers delta, \( \delta_{ij} \).

<p>
Vi skall ocks&#229; anta att enhetsvektorerna bildar ett h&#246;gersystem
$$
\begin{equation}
\hat{e}_1 \times \hat{e}_2 = \hat{e}_3
\label{_auto17}
\end{equation}
$$

<p>
<em>Visa att enhetsvektorerna i de cylindriska koordinaterna uppfyller dessa villkor.</em>

<p>
Vi kan nu h&#228;rleda n&#229;gra anv&#228;ndbara samband som b&#229;gl&#228;ngden l&#228;ngs en kurva
$$
\begin{equation}
\mbox{d}s^2 = \mbox{d}\vec{r}\cdot \mbox{d}\vec{r} = h_1^2\mbox{d}u_1^2 + h_2^2
\mbox{d}u_2^2 + h_3^2 \mbox{d}u_3^2.
\label{_auto18}
\end{equation}
$$

Betrakta ovanst&#229;ende b&#229;gl&#228;ngd f&#246;r fallet d&#229; \( du_2=du_3=0 \). Det st&#229;r d&#229; klart att vi kan tolka \( h_1 du_1 \) som b&#229;gl&#228;ngden \( ds_1 \), dvs som en infinitesimal f&#246;rflyttning i \( u_1 \)-riktningen. Notera d&#228;rf&#246;r att \( h_i du_i \) alltid m&#229;ste ha enheten l&#228;ngd.

<p>
Ett ytelement \( \mbox{d}\vec{S}_1 \) p&#229; koordinatytan \( u_1 \) &#228;r en rektangel som  genereras av \( \mbox{d}u_2 \) och \( \mbox{d}u_3 \). Rektangelns sidor har d&#229; l&#228;ngderna \( h_2\mbox{d}u_2 \) och \( h_3\mbox{d}u_3 \).  Ytelementet blir
$$
\begin{equation}
  \mbox{d}\vec{S}_1 =  \hat{e}_1 h_2 h_3 \mbox{d}u_2 \mbox{d}u_3,
\label{_auto19}
\end{equation}
$$

och p&#229; samma s&#228;tt kan vi ber&#228;kna ytelementen p&#229; koordinatytorna f&#246;r \( u_2 \) och \( u_3 \).

<p>
Analogt kan vi ber&#228;kna volymelementet som genereras av  \( \mbox{d}u_1 \), \( \mbox{d}u_2 \) och \( \mbox{d}u_3 \), vilket blir
$$
\begin{equation}
  \mbox{d}V = h_1 h_2 h_3 \mbox{d}u_1 \mbox{d}u_2 \mbox{d}u_3.
\label{_auto20}
\end{equation}
$$

<p>
<div class="panel panel-primary">
  <div class="panel-heading">
  <h3 class="panel-title">Exempel: b&#229;g- yt- och volymselement i cylindriska koordinater</h3>
  </div>
<div class="panel-body">
<p> <!-- subsequent paragraphs come in larger fonts, so start with a paragraph -->
B&#229;gelementet i cylindriska koordinater blir
$$
\begin{equation}
  \mbox{d}s^2 = \mbox{d}\rho^2 + \rho^2\mbox{d}\theta^2 + \mbox{d}z^2.
\label{_auto21}
\end{equation}
$$

Ett ytelement p&#229; \( \rho \)-ytan skrives
$$
\begin{equation}
  \mbox{d}\vec{S}_\rho = \hat{e}_\rho \rho \mbox{d}\phi\mbox{d}z,
\label{_auto22}
\end{equation}
$$

p&#229; \( \phi \)-ytan
$$
\begin{equation}
  \mbox{d}\vec{S}_\phi = \hat{e}_\phi \mbox{d}\rho\mbox{z}
\label{_auto23}
\end{equation}
$$

och p&#229; \( z \)-ytan
$$
\begin{equation}
  \mbox{d}\vec{S}_z = \hat{e}_z \rho\mbox{d}\rho \mbox{d}\phi.
\label{_auto24}
\end{equation}
$$

Volymelementet kan vi skriva som
$$
\begin{equation}
  \mbox{d}V = \rho\mbox{d}\rho \mbox{d}\phi\mbox{d}z.
\label{_auto25}
\end{equation}
$$
</div>
</div>


<h2 id="___sec5" class="anchor">Vektoroperatorer i kroklinjiga koordinater </h2>

<h3 id="___sec6" class="anchor">Gradient </h3>

<p>
Betrakta ett skal&#228;rt f&#228;lt \( \phi \).  Om vi f&#246;rflyttar oss en str&#228;cka \( \mbox{d}\vec{r} \) s&#229; f&#246;r&#228;ndras \( \phi \) 
$$
\begin{equation}
  \mbox{d}\phi = \vnabla \phi \cdot \mbox{d}\vec{r}.
\label{_auto26}
\end{equation}
$$

Samtidigt, om vi skriver \( \phi \) som en funktion av \( u_1, u_2 \) och \( u_3 \) f&#229;r vi
$$
\begin{align}
  \mbox{d}\phi &= \frac{\partial \phi}{\partial u_1}\mbox{d}u_1 + 
\frac{\partial \phi}{\partial u_2}\mbox{d}u_2 +
\frac{\partial \phi}{\partial u_3}\mbox{d}u_3 =
\frac{1}{h_1} \frac{\partial \phi}{\partial u_1} h_1 \mbox{d}u_1 +
\frac{1}{h_2} \frac{\partial \phi}{\partial u_2} h_2 \mbox{d}u_2 +
\frac{1}{h_3} \frac{\partial \phi}{\partial u_3} h_3 \mbox{d}u_3 \nonumber \\ 
 &=
\left(\frac{1}{h_1} \frac{\partial \phi}{\partial u_1} \hat{e}_1 +
\frac{1}{h_2} \frac{\partial \phi}{\partial u_2} \hat{e}_2 +
\frac{1}{h_3} \frac{\partial \phi}{\partial u_3} \hat{e}_3\right) \cdot 
\mbox{d}\vec{r}
\label{_auto27}
\end{align}
$$

F&#246;rflyttningen \( \mbox{d}\vec{r} \) (ovan) kan vi i de nya koordinaterna skriva som [se ekv. \eqref{eq:forskjutningsvektor_skalfaktor}]
$$
\begin{equation}
  \mbox{d}\vec{r} = h_1 \hat{e}_1 \mbox{d}u_1 + h_2 \hat{e}_2 \mbox{d}u_2
+ h_3 \hat{e}_3 \mbox{d}u_3.
\label{_auto28}
\end{equation}
$$

D&#229; kan vi identifiera uttrycket inom parentesen som gradienten i de nya koordinaterna \( u_1, u_2, u_3 \)
$$
\begin{equation}
  \vnabla \phi = \frac{1}{h_1} \frac{\partial \phi}{\partial u_1} \hat{e}_1
+ \frac{1}{h_2}
\frac{\partial \phi}{\partial u_2} \hat{e}_2 
+ \frac{1}{h_3} \frac{\partial \phi}{\partial u_3} \hat{e}_3.
\label{_auto29}
\end{equation}
$$

<h3 id="___sec7" class="anchor">Gradient i cylindriska koordinater: </h3>

I cylindriska koordinater blir gradienten
$$
\begin{equation}
  \vnabla f = \frac{\partial f}{\partial \rho} \hat{\rho} + \frac{1}{\rho}
\frac{\partial f}{\partial \phi} \hat{\phi} + \frac{\partial f}{\partial z} \hat{z}.
\label{_auto30}
\end{equation}
$$

<p>
<div class="panel panel-primary">
  <div class="panel-heading">
  <h3 class="panel-title">Exempel: skal&#228;rf&#228;lt och dess gradient i olika koordinatsystem</h3>
  </div>
<div class="panel-body">
<p> <!-- subsequent paragraphs come in larger fonts, so start with a paragraph -->
Ett skal&#228;rf&#228;lt &#228;r givet i Cartesiska koordinater
$$
\begin{equation}
\beta = x^2 + y^2.
\label{_auto31}
\end{equation}
$$

Motsvarande skal&#228;rf&#228;lt i plana pol&#228;rkoordinater blir
$$
\begin{equation}
\beta = r^2\cos^2\theta + r^2 \sin^2\theta = r^2.
\label{_auto32}
\end{equation}
$$

Gradienten i Cartesiska koordinater blir
$$
\begin{equation}
\vnabla \beta = \hat{x} \partial_x \beta + \hat{y} \partial_y \beta = 2 (x \hat{x} + y \hat{y}).
\label{_auto33}
\end{equation}
$$

Medan i plana pol&#228;rkoordinater blir den
$$
\begin{equation}
\vnabla \beta = \hat{e}_r \partial_r + \hat{e}_\theta \frac{1}{r} \partial_\theta \beta = 2 r \hat{e}_r.
\label{_auto34}
\end{equation}
$$

Eftersom \( x \hat{x} + y \hat{y} = r \hat{e}_r \) &#228;r det uppenbart att detta &#228;r samma vektor!
</div>
</div>


<p>
<div class="panel panel-primary">
  <div class="panel-heading">
  <h3 class="panel-title">Exempel: Tentauppgift 2010-08-26: 1b</h3>
  </div>
<div class="panel-body">
<p> <!-- subsequent paragraphs come in larger fonts, so start with a paragraph -->
F&#246;r vilka v&#228;rden p&#229; \( \alpha,\beta,\gamma \) har det tv&#229;dimensionella koordinatsystemet med koordinater \( \xi \) och \( \eta \), givna av
$$
\begin{align}
\xi &= x^2 - y^2 
\label{_auto35}\\ 
\eta &= \alpha x^2 + \beta x y + \gamma y^2
\label{_auto36}
\end{align}
$$

ortogonala basvektorer?

<h3 id="___sec8" class="anchor">L&#246;sning </h3>

Vi kan konstruera basvektorer p&#229; tv&#229; s&#228;tt:

<ul>
<li> \( \hat{e}_i \propto \frac{\partial \vec{r}}{\partial u_i} \)</li>
<li> \( \hat{e}_i \propto \vnabla u_i \)</li>
</ul>

Det f&#246;rsta s&#228;ttet inneb&#228;r att vi beh&#246;ver r&#228;kna ut storheterna \( \frac{\partial x}{\partial u_i} \) och \( \frac{\partial y}{\partial u_i} \), dvs vi beh&#246;ver veta \( x=x(\xi,\eta),\; y=y(\xi,\eta) \). Vi skulle beh&#246;va invertera det givna koordinatsambandet.

<p>
Det andra s&#228;ttet kr&#228;ver ist&#228;llet \( \frac{\partial \xi}{\partial x} \) och \( \frac{\partial \xi}{\partial y} \) (samt motsvarande f&#246;r \( \eta \)) och detta blir enkelt med de givna koordinattransformationerna. Vi f&#229;r
$$
\begin{align}
\vnabla \xi &= 2x \hat{x} - 2y \hat{y} 
\label{_auto37}\\ 
\vnabla \eta &= (2 \alpha x + \beta y)\hat{x} + (\beta x + 2 \gamma y) \hat{y}
\label{_auto38}
\end{align}
$$

F&#246;r att koordinatsystemet skall vara ortogonalt beh&#246;ver vi
$$
\begin{equation}
\hat{e}_\xi \cdot \hat{e}_\eta = 0 \qquad \Rightarrow \qquad \vnabla \xi \cdot \vnabla \eta=0.
\label{_auto39}
\end{equation}
$$

Fr&#229;n uttrycken f&#246;r dessa gradienter ovan f&#229;r vi
$$
\begin{equation}
\vnabla \xi \cdot \vnabla \eta = 2x (2 \alpha x + \beta y) - 2 y (\beta x + 2 \gamma y) 
= 4 \alpha x^2 - 4 \gamma y^2.
\label{_auto40}
\end{equation}
$$

F&#246;r att f&#229; \( \vnabla \xi \cdot \vnabla \eta=0 \) m&#229;ste vi ha \( \alpha = \gamma = 0 \), medan \( \beta \) &#228;r godtyckligt.

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">numpy</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">np</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">pylab</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">p</span>

<span style="color: #408080; font-style: italic"># Make an x,y grid</span>
grid <span style="color: #666666">=</span> np<span style="color: #666666">.</span>linspace(<span style="color: #666666">-4</span>,<span style="color: #666666">4</span>,<span style="color: #666666">100</span>)
x, y <span style="color: #666666">=</span> np<span style="color: #666666">.</span>meshgrid(grid,grid)
<span style="color: #408080; font-style: italic"># and the 2D fields</span>
xi <span style="color: #666666">=</span> x<span style="color: #666666">**2</span> <span style="color: #666666">-</span> y<span style="color: #666666">**2</span>
eta <span style="color: #666666">=</span> x <span style="color: #666666">*</span> y
</pre></div>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>p<span style="color: #666666">.</span>figure(figsize<span style="color: #666666">=</span>(<span style="color: #666666">6</span>,<span style="color: #666666">6</span>))
CS <span style="color: #666666">=</span> p<span style="color: #666666">.</span>contour(x,y,xi,<span style="color: #666666">5</span>,colors<span style="color: #666666">=</span><span style="color: #BA2121">&#39;k&#39;</span>)
p<span style="color: #666666">.</span>clabel(CS, inline<span style="color: #666666">=1</span>, fontsize<span style="color: #666666">=10</span>)
p<span style="color: #666666">.</span>text(<span style="color: #666666">0.5</span>,<span style="color: #666666">1.3</span>,<span style="color: #BA2121">r&#39;$\xi$-yta&#39;</span>,color<span style="color: #666666">=</span><span style="color: #BA2121">&#39;k&#39;</span>,rotation<span style="color: #666666">=45</span>)
CS <span style="color: #666666">=</span> p<span style="color: #666666">.</span>contour(x,y,eta,<span style="color: #666666">5</span>,colors<span style="color: #666666">=</span><span style="color: #BA2121">&#39;r&#39;</span>)
p<span style="color: #666666">.</span>clabel(CS, inline<span style="color: #666666">=1</span>, fontsize<span style="color: #666666">=10</span>)
p<span style="color: #666666">.</span>text(<span style="color: #666666">1</span>,<span style="color: #666666">0.05</span>,<span style="color: #BA2121">r&#39;$\eta$-yta&#39;</span>,color<span style="color: #666666">=</span><span style="color: #BA2121">&#39;r&#39;</span>)
p<span style="color: #666666">.</span>xlabel(<span style="color: #BA2121">r&#39;$x$&#39;</span>)
p<span style="color: #666666">.</span>ylabel(<span style="color: #BA2121">r&#39;$y$&#39;</span>)
</pre></div>
<p>
<br /><br /><center><p><img src="fig/koordinatytor.png" align="bottom" width=600></p></center><br /><br />
</div>
</div>


<p>
<div class="panel panel-primary">
  <div class="panel-heading">
  <h3 class="panel-title">Exempel: F&#228;ltlinjer i kroklinjiga koordinater</h3>
  </div>
<div class="panel-body">
<p> <!-- subsequent paragraphs come in larger fonts, so start with a paragraph -->
L&#229;t oss konstruera och rita f&#228;ltlinjerna till en s&#229; kallad virveltr&#229;d
$$
\begin{equation}
\vec F = \frac{J}{2\pi\rho} \hat{\varphi}, 
\label{_auto41}
\end{equation}
$$

som allts&#229; &#228;r uttryckt i cylindriska koordinater. Notera att detta f&#228;lt &#228;r singul&#228;rt l&#228;ngs hela \( z \)-axeln vid \( \rho=0 \), men vi kommer h&#228;r enbart att betrakta \( \rho > 0 \).

<h3 id="___sec9" class="anchor">L&#246;sning </h3>

Vi kan rita f&#228;ltlinjerna p&#229; tv&#229; s&#228;tt:

<ul>
<li> Det f&#246;rsta alternativet &#228;r f&#246;rst&#229;s att finna ett explicit uttryck f&#246;r f&#228;ltlinjerna genom att formulera och l&#246;sa differentialekvationerna. Sedan kan vi definiera dessa kurvor som en funktion i Matlab (eller Python) och rita upp dem explicit f&#246;r n&#229;gra olika startpunkter.</li>
<li> Det andra alternativt &#228;r att utnyttja funktionen 'streamline' i Matlab ('streamplot i Python) och mata in vektorf&#228;ltet p&#229; ett rutn&#228;t av olika koordinatpunkter. Notera dock att detta alternativ bygger p&#229; att vi transformerar till ett Cartesiskt koordinatsystem.</li>
</ul>

Vi b&#246;rjar med att konstruera f&#228;ltlinjerna i cylindriska koordinater. H&#228;r noterar vi att f&#246;rskjutningsvektorn ges av \( d\vec{r} = d\rho \hat\rho + \rho d\varphi\hat\varphi + dz\hat z \). Vi tecknar nu ekvationen \( \frac{d\vec{r}}{d \tau} = C \vec{F} \), med \( C=2\pi/J \), p&#229; komponentform
$$
\begin{align*}
\frac{d\rho}{d\tau} &= 0 \qquad \Rightarrow \quad \rho(\tau) = \rho_0, \\ 
\rho \frac{d\varphi}{d\tau} &= \frac{1}{\rho} \qquad \Rightarrow \quad \varphi(\tau) = \frac{\tau}{\rho_0^2} + \varphi_0, \\ 
\frac{d z}{d\tau} &= 0 \qquad \Rightarrow \quad z(\tau) = z_0.
\end{align*}
$$

Ur detta ser man att f&#228;ltlinjerna blir cirklar i \( xy \)-planet vid \( z=z_0 \) och med radie \( \rho_0 \). De genoml&#246;ps moturs eftersom vinkeln \( \varphi \) &#246;kar med &#246;kande \( \tau \).

<p>
Vi kan teckna ekvationen f&#246;r f&#228;ltlinjerna i Cartesiska koordinater som sambandet \( x^2+y^2 = \rho_0^2 \) och rita upp dessa f&#246;r n&#229;gra olika val av \( \rho_0 \). I figuren nedan &#228;r f&#228;ltlinjerna ritade som funktioner \( y = \pm \sqrt{\rho_0^2 - x^2} \) f&#246;r \( \rho_0 = 1,1.5,2,2.5,3 \).

<p>
<br /><br /><center><p><img src="fig/streamlines-vortex-curves.png" align="bottom" width=600></p></center><br /><br />

<p>
Nu tittar vi p&#229; det andra alternativet och anv&#228;nder tillg&#228;nglig funktionalitet i Matlab (eller Python). H&#228;r kr&#228;vs dock att vektorf&#228;ltets Cartesiska komponenter r&#228;knas ut. Fr&#229;n transformationen mellan cylindriska och Cartesiska koordinater ser vi direkt att
$$
\begin{equation*}
\frac{2\pi}{J} \vec{F} = \frac{1}{\rho} \hat\varphi = \frac{1}{\rho} \left( -\sin\varphi \hat{x} + \cos\varphi \hat y \right).
\end{equation*}
$$

Koordinaterna &#228;r relaterade enligt \( \rho^2 = x^2+y^2 \) och \( \cos\varphi = x/\rho \), \( \sin\varphi = y/\rho \), vilket ger
$$
\begin{equation*}
\frac{2\pi}{J} \vec{F} = \frac{1}{x^2+y^2} \left( -y \hat{x} + x \hat y \right).
\end{equation*}
$$

<p>
I b&#229;de Matlab och Python kan vi skapa ett rutn&#228;t av \( x,y \)-koordinater och tillh&#246;rande \( F_x,F_y \) komponenter som vi sedan ritar med 'streamline' ('streamplot' i Python). Se nedan f&#246;r kod och figur med Matlab:

<p>

<!-- code=matlab (!bc mpro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #408080; font-style: italic">% Make an x,y grid</span>
[X,Y] = <span style="color: #008000">ndgrid</span>(<span style="color: #008000">linspace</span>(<span style="color: #666666">-2.5</span>,<span style="color: #666666">2.5</span>,<span style="color: #666666">100</span>),<span style="color: #008000">linspace</span>(<span style="color: #666666">-2.5</span>,<span style="color: #666666">2.5</span>,<span style="color: #666666">100</span>));
R=<span style="color: #008000">sqrt</span>(X<span style="color: #666666">.^2+</span>Y<span style="color: #666666">.^2</span>);

<span style="color: #408080; font-style: italic">% Plot streamlines for corresponding vector field</span>
v_x = <span style="color: #666666">-</span> Y <span style="color: #666666">./</span> R<span style="color: #666666">.^2</span>; <span style="color: #408080; font-style: italic">% Note that -Y/R = -sin(phi)</span>
v_y = X <span style="color: #666666">./</span> R<span style="color: #666666">.^2</span>;   <span style="color: #408080; font-style: italic">% Note that X/R = cos(phi)</span>

<span style="color: #408080; font-style: italic">% In Matlab we have to provide start points for streamlines.</span>
start1_y=<span style="color: #666666">-2.0</span>:<span style="color: #666666">0.5</span>:<span style="color: #666666">-0.5</span>;
start_y=[start1_y, <span style="color: #666666">-</span>start1_y];
start_x=[<span style="color: #008000">zeros</span>(<span style="color: #008000">size</span>(start_y))];

<span style="color: #408080; font-style: italic">% Fine tuning might be needed to get a nice set of streamlines.</span>
strm=streamline(X<span style="color: #666666">&#39;</span>, Y<span style="color: #666666">&#39;</span>, v_x<span style="color: #666666">&#39;</span>, v_y<span style="color: #666666">&#39;</span>, start_x, start_y,[<span style="color: #666666">0.01</span>]);
set(strm,<span style="color: #BA2121">&#39;LineWidth&#39;</span>,<span style="color: #666666">2</span>,<span style="color: #BA2121">&#39;Color&#39;</span>,<span style="color: #BA2121">&#39;k&#39;</span>)

hold on

<span style="color: #408080; font-style: italic">% Matlab streamlines have no arrows. Combine with quiver.</span>
<span style="color: #408080; font-style: italic">% Use fewer grid points to avoid too many arrows in the plot.</span>
[Xc,Yc] = <span style="color: #008000">ndgrid</span>(<span style="color: #008000">linspace</span>(<span style="color: #666666">-3</span>,<span style="color: #666666">3</span>,<span style="color: #666666">10</span>),<span style="color: #008000">linspace</span>(<span style="color: #666666">-3</span>,<span style="color: #666666">3</span>,<span style="color: #666666">10</span>));
Rc=<span style="color: #008000">sqrt</span>(Xc<span style="color: #666666">.^2+</span>Yc<span style="color: #666666">.^2</span>);
v_xc = <span style="color: #666666">-</span> Yc <span style="color: #666666">./</span> Rc<span style="color: #666666">.^2</span>; <span style="color: #408080; font-style: italic">% Note that -Y/R = -sin(phi)</span>
v_yc = Xc <span style="color: #666666">./</span> Rc<span style="color: #666666">.^2</span>;   <span style="color: #408080; font-style: italic">% Note that X/R = cos(phi)</span>
qvr=quiver(Xc<span style="color: #666666">&#39;</span>, Yc<span style="color: #666666">&#39;</span>, v_xc<span style="color: #666666">&#39;</span>, v_yc<span style="color: #666666">&#39;</span>,<span style="color: #BA2121">&#39;Color&#39;</span>,<span style="color: #BA2121">&#39;k&#39;</span>);

xlabel(<span style="color: #BA2121">&#39;x&#39;</span>)
ylabel(<span style="color: #BA2121">&#39;y&#39;</span>)
xlim([<span style="color: #666666">-2.5</span>,<span style="color: #666666">2.5</span>])
ylim([<span style="color: #666666">-2.5</span>,<span style="color: #666666">2.5</span>])
</pre></div>
<p>
<br /><br /><center><p><img src="fig/streamlines-vortex-matlab.png" align="bottom" width=600></p></center><br /><br />

<p>
Och samma exempel med Python:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">sys</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">numpy</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">np</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.pyplot</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">plt</span>
</pre></div>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>w <span style="color: #666666">=</span> <span style="color: #666666">3</span>
Y, X <span style="color: #666666">=</span> np<span style="color: #666666">.</span>mgrid[<span style="color: #666666">-</span>w:w:<span style="color: #666666">100j</span>, <span style="color: #666666">-</span>w:w:<span style="color: #666666">100j</span>]
R <span style="color: #666666">=</span> np<span style="color: #666666">.</span>sqrt(X<span style="color: #666666">**2+</span>Y<span style="color: #666666">**2</span>)
U <span style="color: #666666">=</span> <span style="color: #666666">-</span>Y <span style="color: #666666">/</span> R<span style="color: #666666">**2</span> <span style="color: #408080; font-style: italic"># Note that -Y/R = -sin(phi)</span>
V <span style="color: #666666">=</span> X <span style="color: #666666">/</span> R<span style="color: #666666">**2</span>  <span style="color: #408080; font-style: italic"># Note that X/R = cos(phi)</span>

fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure()
ax <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">111</span>)

strm <span style="color: #666666">=</span> ax<span style="color: #666666">.</span>streamplot(X, Y, U, V, linewidth<span style="color: #666666">=2</span>)

ax<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">r&#39;Streamplot, vortex field &#39;</span> <span style="color: #666666">+</span>\ 
        <span style="color: #BA2121">r&#39;$\vec{F} = \frac{J}{2\pi\rho}\hat\varphi$&#39;</span>)
ax<span style="color: #666666">.</span>set_xlabel(<span style="color: #BA2121">&#39;$x$&#39;</span>)
ax<span style="color: #666666">.</span>set_ylabel(<span style="color: #BA2121">&#39;$y$&#39;</span>)

ax<span style="color: #666666">.</span>set_aspect(<span style="color: #BA2121">&#39;equal&#39;</span>)

plt<span style="color: #666666">.</span>savefig(<span style="color: #BA2121">&#39;streamlines-vortex.png&#39;</span>)
</pre></div>
<p>
<br /><br /><center><p><img src="fig/streamlines-vortex.png" align="bottom" width=600></p></center><br /><br />
</div>
</div>


<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

